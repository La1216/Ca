```html
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cartioré Luxe — Order</title>

  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #6e5e57;
      --soft: #6e5e57;
      --accent: #6e5e57;
      --muted: #9a9a9a;
      --card: #6e5e57;
      --glass: rgba(255, 255, 255, 0.03);
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      height: 100%
    }

    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, var(--bg), #050505 120%);
      color: #ffffffd3;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .footer {
      color: #6e5e57;
    }

    /* Top nav */
    .nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 64px;
      z-index: 40;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 28px;
      background: linear-gradient(180deg, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.2));
      backdrop-filter: blur(6px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.02);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .logo {
      width: 110px;
      font-weight: 800;
      color: var(--accent);
      font-size: 24px;
      letter-spacing: 1px;
    }

    .nav-links {
      display: flex;
      gap: 18px;
      align-items: center;
      color: var(--muted);
      font-weight: 600
    }

    .nav-links a {
      color: inherit;
      text-decoration: none;
      font-size: 14px
    }

    .nav-actions {
      display: flex;
      gap: 10px;
      align-items: center
    }

    .profile {
      width: 36px;
      height: 36px;
      border-radius: 4px;
      background: #222;
      display: inline-block;
      border: 1px solid rgba(255, 255, 255, 0.04)
    }

    /* Hero */
    .hero {
      position: relative;
      height: 60vh;
      min-height: 420px;
      margin-top: 64px;
      display: flex;
      align-items: flex-end;
      padding: 48px 48px 64px;
      background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 10%, rgba(0, 0, 0, 0.6) 60%), url(DIOR_BloorStreet_01_Dec-4th-2019-03232022_185451-scaled.jpg);
      background-size: cover;
      background-position: center;
    }

    .hero-inner {
      max-width: 1100px;
    }

    .kicker {
      background: var(--glass);
      padding: 6px 10px;
      border-radius: 4px;
      color: var(--muted);
      display: inline-block;
      font-size: 13px;
      margin-bottom: 14px
    }

    .hero-title {
      font-size: 48px;
      font-weight: 800;
      margin-bottom: 12px;
      letter-spacing: 0.4px
    }

    .hero-sub {
      color: var(--muted);
      max-width: 700px;
      margin-bottom: 18px
    }

    .hero-cta {
      display: flex;
      gap: 12px
    }

    .btn {
      background: var(--accent);
      border: none;
      padding: 12px 18px;
      border-radius: 6px;
      color: #fff;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 6px 18px rgba(233, 9, 20, 0.12);
    }

    .btn.secondary {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.06);
      color: #fff;
      font-weight: 600;
    }

    /* Rows */
    .container {
      padding: 28px 24px 80px;
      max-width: 1300px;
      margin: 0 auto
    }

    .row {
      margin: 18px 0 28px;
    }

    .row h3 {
      margin: 0 0 10px;
      font-size: 20px
    }

    .carousel {
      position: relative;
      display: flex;
      align-items: center;
    }

    .track {
      overflow-x: auto;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      display: flex;
      gap: 14px;
      padding: 8px 4px;
      width: 100%;
    }

    .track::-webkit-scrollbar {
      height: 10px
    }

    .track::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.06);
      border-radius: 999px
    }

    .card {
      flex: 0 0 220px;
      background: var(--card);
      border-radius: 8px;
      overflow: hidden;
      position: relative;
      transform-origin: center;
      transition: transform .18s ease, box-shadow .18s ease;
      cursor: pointer;
    }

    .card img {
      width: 100%;
      height: 300px;
      object-fit: cover;
      display: block
    }

    .card .meta {
      padding: 10px 12px;
      background: linear-gradient(180deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4));
      position: relative;
    }

    .card h4 {
      margin: 0;
      font-size: 15px
    }

    /* make images scale nicely by default */
    img {
      max-width: 100%;
      height: auto;
    }

    .card p {
      margin: 6px 0 0;
      font-size: 13px;
      color: var(--muted)
    }

    .card .preorder {
      display: block;
      margin-top: 10px;
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      background: var(--accent);
      border: none;
      color: white;
      font-weight: 700;
      cursor: pointer;
    }

    .card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6)
    }

    .card:hover .meta {
      background: linear-gradient(180deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.6))
    }

    /* scroll buttons */
    .scroll-btn {
      position: absolute;
      top: 40%;
      transform: translateY(-50%);
      width: 46px;
      height: 100px;
      border-radius: 6px;
      border: none;
      background: linear-gradient(90deg, rgba(10, 10, 10, 0.5), rgba(10, 10, 10, 0.0));
      color: #fff;
      font-size: 22px;
      z-index: 30;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .scroll-btn.left {
      left: -6px
    }

    .scroll-btn.right {
      right: -6px
    }

    /* modal */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 60;
    }

    .modal {
      width: 96%;
      max-width: 720px;
      background: #c4a48401;
      border-radius: 10px;
      padding: 20px;
      border: 1px solid rgba(255, 255, 255, 0.03);
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.7);
    }

    .modal .modal-head {
      display: flex;
      gap: 12px
    }

    .modal img {
      width: 160px;
      height: 220px;
      object-fit: cover;
      border-radius: 6px;
      flex-shrink: 0
    }

    .modal .details {
      flex: 1
    }

    .modal h3 {
      margin: 0 0 8px
    }

    .modal p {
      color: var(--muted);
      margin: 0 0 14px
    }

    .modal form {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center
    }

    .modal input[type="email"] {
      flex: 1;
      min-width: 220px;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.06);
      background: #0b0b0b;
      color: #fff;
    }

    .modal button[type="submit"] {
      padding: 12px 18px;
      border-radius: 8px;
      border: none;
      background: var(--accent);
      color: #fff;
      font-weight: 700;
      cursor: pointer
    }

    .close {
      background: transparent;
      border: none;
      color: var(--muted);
      font-weight: 700;
      cursor: pointer
    }

    /* small */
    @media (max-width:860px) {
      .card {
        flex: 0 0 170px
      }

      .card img {
        height: 230px
      }
    }

    /* success toast */
    .toast {
      position: fixed;
      right: 24px;
      bottom: 24px;
      background: #111;
      padding: 12px 16px;
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.03);
      display: none;
      z-index: 99;
      color: #fff;
    }

    footer {
      color: var(--muted);
      text-align: center;
      padding: 36px 12px 120px
    }

    .ght {
      color: #9a9a9a;
    }

    .footer-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      margin-bottom: 40px;
      gap: 24px;
    }

    .footer-column {
      min-width: 150px;
      margin-bottom: 20px;
      text-align: left;
    }

    .footer-column h4 {
      font-weight: 600;
      margin-bottom: 15px;
    }

    .footer-column ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .footer-column ul li {
      margin-bottom: 8px;
    }

    .footer-column ul li a {
      color: #fff;
      text-decoration: none;
      font-weight: 300;
    }

    .footer-column ul li a:hover {
      text-decoration: underline;
    }

    /* Voting section */
    .vote-section {
      margin-top: 40px;
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      text-align: center;
    }

    .vote-section h3 {
      font-weight: 600;
      margin-bottom: 10px;
    }

    .vote-section p {
      font-weight: 300;
      margin-bottom: 20px;
    }

    .vote-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
    }

    .vote-item img {
      width: 100%;
      border-radius: 10px;
    }

    .vote-item button {
      margin: 5px;
      padding: 8px 12px;
      border: none;
      background-color: #6e5e57;
      color: #fff;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
    }

    .vote-item button:hover {
      background-color: #6e5e57;
    }

    /* Footer bottom */
    .footer-bottom {
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      padding-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: space-between;
      align-items: center;
      margin-top: 24px;
    }

    .footer-links {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .footer-links a {
      color: #fff;
      text-decoration: none;
      font-weight: 300;
    }

    .footer-links a:hover {
      text-decoration: underline;
    }

    .social-icons {
      display: flex;
      gap: 15px;
    }

    .social-icons a {
      color: #fff;
      font-size: 20px;
      text-decoration: none;
    }

    /* Navbar alignment */
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
    }

    /* Menu button style */
    .menu-btn {
      cursor: pointer;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 8px;
      margin-left: auto;
    }

    .menu-btn span {
      display: block;
      width: 22px;
      height: 2px;
      background: black;
      margin: 4px 0;
      transition: 0.3s;
    }

    /* Overlay menu */
    .overlay {
      position: fixed;
      top: 0;
      right: -100%;
      width: 100%;
      max-width: 320px;
      height: 100%;
      background: #6e5e57;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.2);
      transition: right 0.3s ease;
      padding: 20px;
      z-index: 2000;
      display: none;
    }

    .overlay.active {
      right: 0;
      display: flex;
    }

    .overlay ul {
      list-style: none;
      padding: 0;
      margin: 60px 0;
    }

    .overlay ul li {
      margin: 15px 0;
    }

    .overlay ul li a {
      text-decoration: none;
      color: #111;
      font-size: 18px;
      font-weight: 500;
    }

    /* Close button */
    .close-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      color: #000;
      z-index: 2100;
    }

    .overlay.menu-panel {
      background-color: #6e5e57;
      width: 80%;
      max-width: 320px;
      height: 100%;
      padding: 20px;
      position: relative;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.2);
    }
  </style>
</head>

<body>

  <nav class="nav" role="navigation">
    <div class="brand">
      <div class="logo">CARTIORÉ</div>
      <div class="nav-links" aria-hidden="false">
        <br>
        <br>
        <a href="#">Home</a>
        <!-- <a href="order.html">Order</a> -->
        <a href="Vote and influence.html">Vote</a>
        <a href="Cartiore Models.html">Models</a>

        <div class="menu-btn" id="menuBtn" aria-label="Open menu" aria-controls="overlay" aria-expanded="false">
          <div class="bars">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>

      </div>
    </div>

    <!-- <div class="nav-actions">
      <button class="btn secondary" onclick="scrollToPreorder()">Preorder</button>
    </div> -->
  </nav>

  <!-- Overlay Menu -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="overlay-content">
      <div class="close-btn" id="closeBtn" aria-label="Close menu">&times;</div>
      <ul>
        <li><a href="cartioreeeeluxe.html">Home</a></li>
        <li><a href="Vote and influence.html">Vote</a></li>
        <li><a href="Cartiore Models.html">Models</a></li>
        <li><a href="order.html">Order</a></li>
        <li><a href="about.html">About</a></li>

      </ul>
    </div>
  </div>

  <header class="hero" role="banner" aria-label="Featured">
    <div class="hero-inner">
      <div class="hero-title">Cartioré Luxe Premiere Collection</div>
      <div class="kicker">Cartiore Luxury Drops</div>
      <div class="hero-sub">A limited order release. Reserve your piece now — premium tailoring, exclusive
        fabrics, and limited quantities.</div>
      <div class="hero-cta">
        <button class="btn" onclick="scrollToPreorder()">Preorder Now</button>
        <!-- <button class="btn secondary" onclick="alert('Explore collection soon!')">Explore</button> -->
      </div>
    </div>
  </header>

  <main class="container" id="main">

    <!-- Row template repeated -->
    <section class="row">
      <h3>Featured Styles</h3>
      <div class="carousel">
        <button class="scroll-btn left" aria-label="Scroll left" onclick="scrollRow(this, -1)">‹</button>
        <div class="track" data-row="0"></div>
        <button class="scroll-btn right" aria-label="Scroll right" onclick="scrollRow(this, 1)">›</button>
      </div>
    </section>

    <section class="row">
      <h3>New Arrivals</h3>
      <div class="carousel">
        <button class="scroll-btn left" aria-label="Scroll left" onclick="scrollRow(this, -1)">‹</button>
        <div class="track" data-row="1"></div>
        <button class="scroll-btn right" aria-label="Scroll right" onclick="scrollRow(this, 1)">›</button>
      </div>
    </section>

    <section class="row">
      <h3>Limited Editions</h3>
      <div class="carousel">
        <button class="scroll-btn left" aria-label="Scroll left" onclick="scrollRow(this, -1)">‹</button>
        <div class="track" data-row="2"></div>
        <button class="scroll-btn right" aria-label="Scroll right" onclick="scrollRow(this, 1)">›</button>
      </div>
    </section>

    <div style="height:40px"></div>
    <div id="preorder-anchor"></div>

    <footer>
      <div class="footer-container">
        <div class="footer-column">
          <img src="dior.jpg" alt="Cartioré Logo" style="max-width: 400px;">
        </div>
        <div class="footer-column">
          <h4>Company</h4>
          <ul>
            <li><a href="#">Awards</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Company</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="#">Method</a></li>
            <li><a href="#">Reviews</a></li>
            <li><a href="#">Fashion Case Studies</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>What We Do</h4>
          <ul>
            <li><a href="#">Clothing Design</a></li>
            <li><a href="#">Custom Orders</a></li>
            <li><a href="#">Trend Research</a></li>
            <li><a href="#">Luxury Finishing</a></li>
            <li><a href="#">Fashion Consulting</a></li>
            <li><a href="#">Eco-Friendly Fabrics</a></li>
            <li><a href="#">Limited Edition Runs</a></li>
          </ul>
        </div>
      </div>

      <!-- Voting Section -->
      <div class="vote-section">
        <h3>Help Us Decide Our Next Collection</h3>
        <p>Vote for the styles you want Cartioré to produce. Your opinion shapes fashion!</p>

        <div class="vote-grid">
          <div class="vote-item">
            <img src="men1.jpg" alt="Dress 1">
            <form action="https://formsubmit.co/cartioreluxe@gmail.com" method="POST">
              <input type="hidden" name="item" value="Dress 1">
              <button type="submit" name="vote" value="Produce">Produce This</button>
              <button type="submit" name="vote" value="Skip">Not This Time</button>
            </form>
          </div>
          <div class="vote-item">
            <img src="women2.jpg" alt="Jacket 1">
            <form action="https://formsubmit.co/cartioreluxe@gmail.com" method="POST">
              <input type="hidden" name="item" value="Jacket 1">
              <button type="submit" name="vote" value="Produce">Produce This</button>
              <button type="submit" name="vote" value="Skip">Not This Time</button>
            </form>
          </div>
          <div class="vote-item">
            <img src="women3.jpg" alt="Shirt 1">
            <form action="https://formsubmit.co/cartioreluxe@gmail.com" method="POST">
              <input type="hidden" name="item" value="Shirt 1">
              <button type="submit" name="vote" value="Produce">Produce This</button>
              <button type="submit" name="vote" value="Skip">Not This Time</button>
            </form>
          </div>
        </div>
      </div>

      <!-- Footer Bottom -->
      <div class="footer-bottom">
        <p>© 2025 Cartioré. All rights reserved.</p>

        <div class="footer-links">
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Use</a>
          <a href="#">Sitemap</a>
          <a href="mailto:cartioreluxe@gmail.com">cartioreluxe@gmail.com</a>
          <a href="order.html">Preorder Now</a>
          <a href="about.html">About</a>
        </div>

        <div class="social-icons" aria-label="Social links">
          <!-- Add icons/links as needed -->
          <!-- <a href="#" aria-label="Facebook">F</a>
          <a href="#" aria-label="Instagram">I</a>
          <a href="#" aria-label="LinkedIn">L</a> -->
        </div>
      </div>
    </footer>
  </main>

  <!-- Modal -->
  <div class="modal-backdrop" id="modalBackdrop" style="display:none;">
    <div class="modal">
      <button class="close" id="modalClose" aria-label="Close" onclick="closeModal()">✖</button>
      <div style="display:flex;gap:12px;align-items:flex-start">
        <img id="modalImg" src="" alt="">
        <div>
          <h3 id="modalTitle">Product name</h3>
          <p id="modalDesc">Description</p>
        </div>
      </div>

      <!-- Preorder Form -->
      <form id="preorderForm" action="https://formsubmit.co/cartioreluxe@gmail.com" method="POST" style="margin-top:16px;">
        <input id="emailInput" type="email" name="email" placeholder="Your email address" required>
        <input id="prodInput" type="hidden" name="product">
        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_subject" value="New Cartioré Luxe Preorder">
        <!-- <input type="hidden" name="_next" value="https://yourwebsite.com/cartioremodel.html"> -->
        <button type="submit">Confirm Preorder</button>
      </form>
    </div>
  </div>

  <!-- Optional grid list separate from carousels -->
  <div id="productList" style="display:grid;grid-template-columns:repeat(3,1fr);gap:20px;padding:20px;"></div>

  <!-- Toast -->
  <div id="toast" class="toast" style="display:none;position:fixed;right:24px;bottom:24px;background:#111;color:#fff;padding:12px 16px;border-radius:8px;border:1px solid rgba(255,255,255,0.15);z-index:999;">
    Preorder confirmed — check your email for details.
  </div>

  <script>
    const products = [
      { id: 'p001', title: 'The Noir Blazer', desc: 'Hand-tailored blazer with satin lapel — limited run.', image: 'women3.jpg' },
      { id: 'p002', title: 'Midnight Trench', desc: 'Lightweight trench with structured shoulders.', image: 'women2.jpg' },
      { id: 'p003', title: 'Silk Ply Shirt', desc: '100% silk for nightwear or formal elegance.', image: '2.jpg' },
      { id: 'p004', title: 'Couture Trousers', desc: 'Slim-cut trousers with couture finishing.', image: 'men3.jpg' },
      { id: 'p005', title: 'Luxe Overcoat', desc: 'Wool blend for premium warmth and shape.', image: 'women3.jpg' },
      { id: 'p007', title: 'Casual Luxe Tee', desc: 'Premium cotton, relaxed fit.', image: 'men2.jpg' },
      { id: 'p008', title: 'Signature Hoodie 1', desc: 'Chunky knit with embroidered logo.', image: 'men1.jpg' },
      { id: 'p009', title: 'Signature Hoodie 2', desc: 'Chunky knit with embroidered logo.', image: 'men5.jpg' }
    ];

    // Build product cards for the THREE carousel tracks
    function renderRows() {
      const tracks = document.querySelectorAll('.track');
      tracks.forEach(track => {
        track.innerHTML = ''; // clear
        products.forEach(p => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <img src="${p.image}" alt="${p.title}">
            <div class="meta">
              <h4>${p.title}</h4>
              <p>${p.desc}</p>
              <button class="preorder" data-id="${p.id}">Preorder</button>
            </div>
          `;
          track.appendChild(card);
        });
      });
    }

    // Horizontal scroll by N cards
    function scrollRow(btn, direction) {
      const carousel = btn.closest('.carousel');
      const track = carousel.querySelector('.track');
      const cardWidth = track.querySelector('.card')?.offsetWidth || 220;
      track.scrollBy({ left: direction * cardWidth * 3, behavior: 'smooth' });
    }

    // Drag-to-scroll
    function enableDragScroll(track) {
      let isDown = false, startX = 0, scrollLeft = 0;

      track.addEventListener('mousedown', (e) => {
        isDown = true;
        startX = e.pageX - track.offsetLeft;
        scrollLeft = track.scrollLeft;
        track.classList.add('active');
      });

      track.addEventListener('mouseleave', () => {
        isDown = false;
        track.classList.remove('active');
      });

      track.addEventListener('mouseup', () => {
        isDown = false;
        track.classList.remove('active');
      });

      track.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - track.offsetLeft;
        const walk = (x - startX) * 1.5;
        track.scrollLeft = scrollLeft - walk;
      });

      // touch
      let startTouchX = 0, startTouchLeft = 0;
      track.addEventListener('touchstart', (e) => {
        startTouchX = e.touches[0].pageX;
        startTouchLeft = track.scrollLeft;
      });
      track.addEventListener('touchmove', (e) => {
        const walk = (e.touches[0].pageX - startTouchX) * 1.2;
        track.scrollLeft = startTouchLeft - walk;
      });
    }

    // Also render a simple grid list (below footer) if needed
    // const productList = document.getElementById("productList");
    // products.forEach(prod => {
    //   const card = document.createElement("div");
    //   card.style = "border:1px solid #ccc;padding:10px;border-radius:8px;text-align:center;";
    //   card.innerHTML = `
    //     <img src="${prod.image}" alt="${prod.title}" style="width:100%;border-radius:8px;">
    //     <h3>${prod.title}</h3>
    //     <p>${prod.desc}</p>
    //     <button class="preorder" data-id="${prod.id}" style="padding:8px 12px;background:black;color:white;border:none;border-radius:6px;cursor:pointer;">
    //       Preorder
    //     </button>
    //   `;
    //   productList.appendChild(card);
    // });

    // Grab modal elements
    const modalBackdrop = document.getElementById('modalBackdrop');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const preorderForm = document.getElementById('preorderForm');
    const emailInput = document.getElementById('emailInput');
    const prodInput = document.getElementById('prodInput');
    const modalClose = document.getElementById('modalClose');
    const toast = document.getElementById('toast');

    // Open modal (from product click)
    function openPreorder(productName, productDesc, productImg) {
      modalTitle.textContent = productName;
      modalDesc.textContent = productDesc;
      modalImg.src = productImg;
      prodInput.value = productName; // keeps readable title in submission
      modalBackdrop.style.display = "flex";
      modalBackdrop.setAttribute('aria-hidden', 'false');
      emailInput.value = '';
      setTimeout(() => emailInput.focus(), 0);
    }

    // Convenience: open via product id
    function openPreorderById(id) {
      const p = products.find(x => x.id === id);
      if (p) openPreorder(p.title, p.desc, p.image);
    }

    // Delegated click for any .preorder button
    document.addEventListener('click', (e) => {
      const tgt = e.target;
      if (tgt.classList.contains('preorder')) {
        const id = tgt.getAttribute('data-id');
        if (id) openPreorderById(id);
      }
    });

    // Close modal
    function closeModal() {
      modalBackdrop.style.display = "none";
      modalBackdrop.setAttribute('aria-hidden', 'true');
    }

    // Close actions
    if (modalClose) modalClose.addEventListener('click', closeModal);
    modalBackdrop.addEventListener('click', (e) => {
      if (e.target === modalBackdrop) closeModal();
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });

    // Email validator
    function validEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    // Save preorder locally
    function savePreorder({ id, email, title, image }) {
      const key = 'cartiore_preorder';
      const current = JSON.parse(localStorage.getItem(key) || '[]');
      current.push({ id, email, title, image, date: new Date().toISOString() });
      localStorage.setItem(key, JSON.stringify(current));
    }

    // Toast
    function showToast(msg = 'Preorder confirmed — check your email for details.') {
      toast.textContent = msg;
      toast.style.display = 'block';
      toast.style.opacity = '0';
      requestAnimationFrame(() => { toast.style.opacity = '1'; });
      setTimeout(() => {
        toast.style.opacity = '0';
        setTimeout(() => { toast.style.display = 'none'; }, 300);
      }, 2600);
    }

    // Handle form submit
    preorderForm.addEventListener('submit', function (e) {
      // Allow actual submission/redirect to FormSubmit unless invalid email
      const email = emailInput.value.trim();
      const productName = prodInput.value;
      const prod = products.find(p => p.title === productName) || { id: productName, title: productName, image: '' };

      if (!validEmail(email)) {
        alert('Please enter a valid email address.');
        emailInput.focus();
        e.preventDefault();
        return;
      }

      // Save locally for your own analytics
      savePreorder({ id: prod.id, email, title: prod.title, image: prod.image });

      // Optional UX
      showToast('Order successful — thank you,Check your inbox shortly!');
      closeModal();
      // (no preventDefault so FormSubmit will process and redirect to _next)
    });

    // Menu overlay wiring
    const menuBtn = document.getElementById('menuBtn');
    const overlay = document.getElementById('overlay');
    const closeBtn = document.getElementById('closeBtn');
    const menuLinks = document.querySelectorAll('.overlay ul li a');

    if (menuBtn && overlay && closeBtn) {
      menuBtn.onclick = () => {
        overlay.classList.add('active');
        overlay.setAttribute('aria-hidden', 'false');
        menuBtn.setAttribute('aria-expanded', 'true');
      };
      closeBtn.onclick = () => {
        overlay.classList.remove('active');
        overlay.setAttribute('aria-hidden', 'true');
        menuBtn.setAttribute('aria-expanded', 'false');
      };
      overlay.onclick = (e) => {
        if (e.target === overlay) {
          overlay.classList.remove('active');
          overlay.setAttribute('aria-hidden', 'true');
          menuBtn.setAttribute('aria-expanded', 'false');
        }
      };
      menuLinks.forEach(link => link.addEventListener('click', () => {
        overlay.classList.remove('active');
        overlay.setAttribute('aria-hidden', 'true');
        menuBtn.setAttribute('aria-expanded', 'false');
      }));
    }

    // Scroll to preorder anchor
    function scrollToPreorder() {
      const el = document.getElementById('preorder-anchor');
      if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    // Init on load
    document.addEventListener('DOMContentLoaded', () => {
      renderRows();
      document.querySelectorAll('.track').forEach(enableDragScroll);
    });
  </script>

</body>
</html>

